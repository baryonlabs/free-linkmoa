/**
 * MCP ì˜ˆì‹œ ëª…ë ¹ ë°ëª¨
 * Claude Desktopì—ì„œ ì•„ë˜ì™€ ê°™ì€ ìì—°ì–´ ìš”ì²­ ì‹œ MCPê°€ í˜¸ì¶œí•˜ëŠ” íˆ´ ì‹œë®¬ë ˆì´ì…˜
 */
import {
  handleListLinks,
  handleCreateLink,
  handleUpdateLink,
  handleDeleteLink,
} from './src/tools/links.js';
import { handleGetProfile, handleUpdateProfile } from './src/tools/profile.js';

const sep = () => console.log('\n' + 'â”€'.repeat(50));

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ì˜ˆì‹œ 1: "ë‚´ ë§í¬ ëª©ë¡ ë³´ì—¬ì¤˜"
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
sep();
console.log('ğŸ’¬ "ë‚´ ë§í¬ ëª©ë¡ ë³´ì—¬ì¤˜"');
console.log('ğŸ”§ MCP tool: list_links\n');

const links = await handleListLinks() as any[];
links.forEach((l, i) =>
  console.log(`  ${i + 1}. ${l.enabled ? 'âœ…' : 'â¸ï¸'} [${l.type}] ${l.title}`)
);

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ì˜ˆì‹œ 2: "ë‚´ í”„ë¡œí•„ ì†Œê°œê¸€ ë°”ê¿”ì¤˜ - AI ê°œë°œì & Baryon Labs"
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
sep();
console.log('ğŸ’¬ "í”„ë¡œí•„ ì†Œê°œê¸€ì„ \'AI ê°œë°œì & Baryon Labs\' ë¡œ ë°”ê¿”ì¤˜"');
console.log('ğŸ”§ MCP tool: update_profile\n');

const updated = await handleUpdateProfile({
  bio: 'AI ê°œë°œì & Baryon Labs ğŸš€ | Claude Codeë¡œ AI-native ì•± ê°œë°œ',
}) as any;
console.log(`  âœ… bio ì—…ë°ì´íŠ¸ ì™„ë£Œ: "${updated.bio}"`);

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ì˜ˆì‹œ 3: "ë§í¬ëª¨ì•„ ì†ŒìŠ¤ì½”ë“œ ë§í¬ í™œì„±í™”í•´ì¤˜"
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
sep();
console.log('ğŸ’¬ "ë§í¬ëª¨ì•„ ì†ŒìŠ¤ì½”ë“œ ë§í¬ í™œì„±í™”í•´ì¤˜"');
console.log('ğŸ”§ MCP tool: update_link (enabled: true)\n');

const linkflowLink = links.find((l: any) => l.title.includes('LinkFlow'));
if (linkflowLink) {
  const r = await handleUpdateLink({ id: linkflowLink.id, enabled: true }) as any;
  console.log(`  âœ… "${r.title}" ë§í¬ í™œì„±í™”ë¨`);
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ì˜ˆì‹œ 4: "ë¸”ë¡œê·¸ ë§í¬ ìƒˆë¡œ ì¶”ê°€í•´ì¤˜"
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
sep();
console.log('ğŸ’¬ "ë¸”ë¡œê·¸ ë§í¬ ì¶”ê°€í•´ì¤˜: https://blog.baryon.ai"');
console.log('ğŸ”§ MCP tool: create_link\n');

const blog = await handleCreateLink({
  title: 'ë¸”ë¡œê·¸',
  url: 'https://blog.baryon.ai',
  description: 'Baryon Labs ê¸°ìˆ  ë¸”ë¡œê·¸',
  type: 'link',
}) as any;
console.log(`  âœ… "${blog.title}" ì¶”ê°€ë¨ (id: ${blog.id?.slice(0,8)}...)`);

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ì˜ˆì‹œ 5: "ë°©ê¸ˆ ì¶”ê°€í•œ ë¸”ë¡œê·¸ ë§í¬ ì‚­ì œí•´ì¤˜"
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
sep();
console.log('ğŸ’¬ "ë°©ê¸ˆ ì¶”ê°€í•œ ë¸”ë¡œê·¸ ë§í¬ ì‚­ì œí•´ì¤˜"');
console.log('ğŸ”§ MCP tool: delete_link\n');

await handleDeleteLink({ id: blog.id });
console.log(`  âœ… "${blog.title}" ì‚­ì œë¨`);

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ìµœì¢… ìƒíƒœ
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
sep();
console.log('ğŸ“‹ ìµœì¢… ìƒíƒœ í™•ì¸');
console.log('ğŸ”§ MCP tool: get_profile + list_links\n');

const profile = await handleGetProfile() as any;
console.log(`  ğŸ‘¤ ${profile.title}`);
console.log(`  ğŸ“ ${profile.bio}`);
const finalLinks = await handleListLinks() as any[];
console.log(`  ğŸ”— ë§í¬ ${finalLinks.length}ê°œ:`);
finalLinks.forEach((l: any, i: number) =>
  console.log(`    ${i + 1}. ${l.enabled ? 'âœ…' : 'â¸ï¸'} ${l.title}`)
);
sep();
console.log('\nâœ¨ MCP ë°ëª¨ ì™„ë£Œ!\n');
